# 桥接模式

桥接模式：类的**抽象部分**和**实现部分**分离开来，这样类的抽象和实现都可以独立地变化（从而实现接口与实现分离）。

> 主要的角色及其职责

- **抽象化**（**Abstraction**）角色：定义抽象类，并包含一个对实现化对象的引用。
- **扩展抽象化**（**Refined** **Abstraction**）角色：是抽象化角色的子类，实现父类中的业务方法，并通过组合关系调用实现化角色中的业务方法。
- **实现化**（**Implementor**）角色：定义实现化角色的接口，供扩展抽象化角色调用。
- **具体实现化**（**Concrete** **Implementor**）角色：给出实现化角色接口的具体实现。




## 何时考虑桥接？

1. 拆分或重组一个具有多重功能的庞杂类，供客户端使用的抽象类 + 抽象类具体使用的实现类两部分；
2. 在运行时切换不同的实现方法，或组合不同的实现类。

## 优点

1. 单一职责：抽象和实现分离，客户端专注使用抽象类；
2. 开闭原则：更好独立扩展抽象类和实现类；

## 应用场景

### 账单统计

1. 账单的统计方式有：A, B, C, D 。。。多种计算方式；
2. 账单之间有传参和返回结果之间有依赖，比如统计完A之后，需要拿到A的接口时统计D；
3. 考虑使用设计模式：
   - 策略：不好解决传参依赖问题，不推荐
   - 责任链：A -> B -> C -> … 组成责任链，通过传参控制每个节点是否处理，
   - 桥接：抽象统计对象，账单统计方式具体实现A, B, C, D 。。。，由统计对象具体实现calculate()方法，完成传参和组合实际使用到的统计对象A/B/C/D
4. 组合策略和桥接是不错的选择，利用工厂模式 + 策略模式来创建A, B, C, D 。。。，再由桥接模式来组合他们之间的关系。

思考：是否可以组合责任链和桥接模式一起使用？

